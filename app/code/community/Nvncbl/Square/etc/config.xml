<?xml version="1.0"?>
<config>
  <modules>
	<Nvncbl_Square>
	  <version>2.0.0</version>
	</Nvncbl_Square>
  </modules>
  <global>
	<models>
	  <compiler>
		<rewrite>
		  <process>Nvncbl_Square_Model_Compiler_Process</process>
		</rewrite>
	  </compiler>
	  <nvncbl_square>
		<class>Nvncbl_Square_Model</class>
	  </nvncbl_square>
	</models>
	<helpers>
	  <nvncbl_square>
		<class>Nvncbl_Square_Helper</class>
	  </nvncbl_square>
	</helpers>
	<blocks>
	  <nvncbl_square>
		<class>Nvncbl_Square_Block</class>
	  </nvncbl_square>
	  <!-- <page>
		<rewrite>
		  <html_head>Nvncbl_Square_Block_Html_Head</html_head>
		</rewrite>
	  </page> -->
	  <adminhtml>
		<rewrite>
		  <page_head>Nvncbl_Square_Block_Html_AdminHead</page_head>
		</rewrite>
	  </adminhtml>
	  <payment>
		<rewrite>
		  <info>Nvncbl_Square_Block_Payment_Info</info>
		</rewrite>
	  </payment>
	</blocks>
	<resources>
	  <nvncbl_square_setup>
		<setup>
		  <module>Nvncbl_Square</module>
		</setup>
		<connection>
		  <use>core_setup</use>
		</connection>
	  </nvncbl_square_setup>
	  <nvncbl_square_write>
		<connection>
		  <use>core_write</use>
		</connection>
	  </nvncbl_square_write>
	  <nvncbl_square_read>
		<connection>
		  <use>core_read</use>
		</connection>
	  </nvncbl_square_read>
	</resources>
	<events>
	  <sales_order_payment_place_end>
		<observers>
		  <nvncbl_square_update_customer_id>
			<type>singleton</type>
			<class>nvncbl_square/observer</class>
			<method>sales_order_payment_place_end</method>
		  </nvncbl_square_update_customer_id>
		</observers>
	  </sales_order_payment_place_end>
	</events>
	<payment>
	  <nvncbl_square>
		<cc_types>
		  <visa>
			<code>visa</code>
			<name>Visa</name>
			<order>10</order>
		  </visa>
		  <mastercard>
			<code>mastercard</code>
			<name>MasterCard</name>
			<order>20</order>
		  </mastercard>
		  <amex>
			<code>amex</code>
			<name>American Express</name>
			<order>30</order>
		  </amex>
		  <jcb>
			<code>jcb</code>
			<name>JCB</name>
			<order>40</order>
		  </jcb>
		  <discover>
			<code>discover</code>
			<name>Discover</name>
			<order>50</order>
		  </discover>
		  <diners>
			<code>diners</code>
			<name>Diners Club</name>
			<order>60</order>
		  </diners>
		</cc_types>
	  </nvncbl_square>
	</payment>
  </global>
  <default>
	<payment>
	  <nvncbl_square>
		<model>nvncbl_square/standard</model>
		<active>1</active>
		<order_status>pending</order_status>
		<title>Pay by Card (Square)</title>
		<payment_action>authorize_capture</payment_action>
		<allowspecific>0</allowspecific>
		<sort_order>1</sort_order>
		<use_store_currency>1</use_store_currency>
		<card_autodetect>2</card_autodetect>
		<cctypes>visa,mastercard,amex,jcb,discover,diners</cctypes>
	  </nvncbl_square>
	</payment>
  </default>
  <frontend>
	<routers>
	  <nvncbl_square>
		<use>standard</use>
		<args>
		  <module>Nvncbl_Square</module>
		  <frontName>nvncbl_square</frontName>
		</args>
	  </nvncbl_square>
	  <customer>
		<args>
		  <modules>
			<savedcards before="Mage_Customer">Nvncbl_Square</savedcards>
		  </modules>
		</args>
	  </customer>
	</routers>
	<layout>
	  <updates>
		<nvncbl_square>
		  <file>nvncbl_square.xml</file>
		</nvncbl_square>
		<savedcards module="Nvncbl_Square">
		  <file>customer/savedcards.xml</file>
		</savedcards>
	  </updates>
	</layout>
	<translate>
	  <modules>
		<Nvncbl_Square>
		  <files>
			<default>Nvncbl_Square.csv</default>
		  </files>
		</Nvncbl_Square>
	  </modules>
	</translate>
  </frontend>
  <adminhtml>
	<layout>
	  <updates>
		<nvncbl_square>
		  <file>nvncbl_square.xml</file>
		</nvncbl_square>
	  </updates>
	</layout>
  </adminhtml>
</config>
